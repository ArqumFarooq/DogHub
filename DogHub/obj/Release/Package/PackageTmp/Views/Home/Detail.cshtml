@using DogHub.BL
@using DogHub.Models
@{
    ViewBag.Title = "DogHub - Detail Page";
    Layout = null;
}
@{
    DogHubEntities de = new DogHubEntities();
    var identity = (System.Security.Claims.ClaimsPrincipal)System.Threading.Thread.CurrentPrincipal;
    var id = identity.Claims.Where(c => c.Type == System.Security.Claims.ClaimTypes.Sid).Select(c => c.Value).SingleOrDefault();
    User loggedinUser = new UserBL().GetUserById(Convert.ToInt32(id), de);
}

<!DOCTYPE html>
<html>

<head>

    <title>DogHub - Detail</title>
    <link rel="icon" href="~/Content/assets/images/Favicons/D-Fav.jpg" type="image/gif" sizes="16x16">
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="" name="keywords" />
    <meta content="" name="author" />

    <!-- CSS Files
    ================================================== -->
    <link id="bootstrap" href="~/Content/Home/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link id="bootstrap-grid" href="~/Content/Home/css/bootstrap-grid.min.css" rel="stylesheet" type="text/css" />
    <link id="bootstrap-reboot" href="~/Content/Home/css/bootstrap-reboot.min.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/Home/css/animate.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/Home/css/owl.carousel.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/Home/css/owl.theme.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/Home/css/owl.transitions.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/Home/css/magnific-popup.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/Home/css/jquery.countdown.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/Home/css/style.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/Home/css/de-grey.css" rel="stylesheet" type="text/css" />
    <!-- color scheme -->

    <style>
        .doghub-logo {
            width: 35px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #212428;
            font-size: 40px;
            font-family: Arial, sans-serif;
            font-weight: bold;
            color: red;
            border: 1px solid #212428;
            image-rendering: pixelated;
        }
    </style>

    <link id="colors" href="~/Content/Home/css/colors/scheme-04.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/Home/css/coloring.css" rel="stylesheet" type="text/css" />
</head>

<body class="dark-scheme de-grey">
    <div id="wrapper">

        <!-- header begin -->
        <header class="transparent scroll-dark">
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <div class="de-flex sm-pt10">
                            <div class="de-flex-col">
                                <div class="de-flex-col">
                                    <!-- logo begin -->
                                    <div id="logo">
                                        <div class="doghub-logo">DogHub</div>
                                    </div>
                                    <!-- logo close -->
                                </div>
                            </div>
                            <div class="de-flex-col header-col-mid">
                                <!-- mainmenu begin -->
                                <ul id="mainmenu">
                                    <li>
                                        <a href="@Url.Action("Index", "Home")">Home<span></span></a>
                                    </li>
                                    @*<li>
                                          <a href="@Url.Action("SearchDog", "Home")">Explore<span></span></a>
                                     </li>*@
                                    <li>
                                        <a href="@Url.Action("Detail", "Home")">Detail<span></span></a>
                                    </li>
                                    <li>
                                        <a href="@Url.Action("DashBoard", "Admin")">DashBoard<span></span></a>
                                    </li>
                                </ul>
                                <!-- mainmenu close -->
                                <div class="menu_side_area">
                                    <a href="@Url.Action("Logout", "Auth")" class="btn-main"><i class="icon_wallet_alt"></i><span>Logout</span></a>
                                    <span id="menu-btn"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <!-- header close -->

        <!-- content begin -->
        <div class="no-bottom no-top" id="content">
            <div id="top"></div>

            <section aria-label="section" class="mt90 sm-mt-0">
                <div class="container">
                    <div class="row">
                        <div class="col-md-6 text-center">
                            <img src="@ViewBag.ImageUrl" class="nft_img_preview img-fluid img-rounded mb-sm-30" alt="@ViewBag.DogName" style="width: -webkit-fill-available; height: -webkit-fill-available;">
                        </div>
                        <div class="col-md-6">
                            <div class="item_info">
                                <h2>@ViewBag.DogName</h2>
                                <div class="item_info_counts">
                                    <div class="item_info_type">
                                        <i class="fa fa-map-marker" style="margin-right: 5px; color: #e83b6e;"></i>
                                        @ViewBag.Origin
                                    </div>
                                    <div class="item_info_views">
                                        <i class="fa fa-birthday-cake" style="margin-right: 4px; color: #e83b6e;"></i>
                                        @ViewBag.LifeSpan
                                    </div>
                                    <div class="item_info_like">
                                        <i class="fa fa-heart"></i>
                                        @ViewBag.Heart
                                    </div>
                                </div>
                                <p>@ViewBag.Description</p>

                                <h6>Creator</h6>
                                <div class="item_author">
                                    <div class="author_list_pp">
                                        <a href="#">
                                            <img class="lazy" src="@ViewBag.AuthorImage" alt="AuthorImage">
                                            <i class="fa fa-check"></i>
                                        </a>
                                    </div>
                                    <div class="author_list_info">
                                        <a href="#">@loggedinUser.UserName</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    @{
                        if (ViewBag.dogsubBreedCount > 0)
                        {
                            <div class="row">
                                <div class="spacer-single"></div>
                                <h2 class="style-2">Related Breeds</h2>
                                @{
                                    Random rand = new Random(); // Random generator

                                    foreach (var dlist in ViewBag.dogsubBreed)
                                    {
                                        int hearts = rand.Next(1, 100); // Generate random hearts from 1 to 99

                                        <!-- nft item begin -->
                                        <div class="d-item col-lg-3 col-md-6 col-sm-6 col-xs-12">
                                            <div class="nft__item style-2">
                                                <div class="author_list_pp">
                                                    <a href="#">
                                                        <img class="lazy" src="@ViewBag.AuthorImage" alt="AuthorImage">
                                                        <i class="fa fa-check"></i>
                                                    </a>
                                                </div>
                                                <div class="nft__item_wrap">
                                                    <a href="@Url.Action("Detail", "Home", new { AuthorId = ViewBag.AuthorId, Heart = hearts, DogId = dlist.PK_DogBreedId })">
                                                        <img src="@dlist.ImageUrl" class="lazy nft__item_preview" alt="@dlist.DogName"
                                                             style="width:100%; height:266px; object-fit:cover; border-radius:10px;">
                                                    </a>
                                                </div>
                                                <div class="nft__item_info">
                                                    <a href="#">
                                                        <h4>@dlist.DogName</h4>
                                                    </a>
                                                    <div class="nft__item_price">
                                                        <i class="fa fa-map-marker" style="margin-right: 5px; color: #e83b6e;"></i>@dlist.Origin
                                                        <span>
                                                            <i class="fa fa-birthday-cake" style="margin-right: 4px; color: #e83b6e;"></i>
                                                            @dlist.LifeSpan
                                                        </span>
                                                    </div>
                                                    <div class="nft__item_like">
                                                        <i class="fa fa-heart"></i><span>@hearts</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- nft item end -->
                                    }
                                }
                            </div>
                        }
                        else
                        {
                            <div class="row">
                                <div class="spacer-single"></div>
                                <h2 class="style-2">No Related Breeds</h2>
                            </div>
                        }
                    }
                </div>
            </section>

        </div>
        <!-- content close -->

        <a href="#" id="back-to-top"></a>

        <!-- footer begin -->
        <footer>
            <div class="subfooter">
                <div class="container">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="de-flex">
                                <div class="de-flex-col">
                                    <a href="#">
                                        <span class="copy">&copy;  @DateTime.Now.ToString("Y") - DogHub by Arqum</span>
                                    </a>
                                </div>
                                <div class="de-flex-col">
                                    <div class="social-icons">
                                        <a href="#"><i class="fa fa-facebook fa-lg"></i></a>
                                        <a href="#"><i class="fa fa-twitter fa-lg"></i></a>
                                        <a href="#"><i class="fa fa-linkedin fa-lg"></i></a>
                                        <a href="#"><i class="fa fa-pinterest fa-lg"></i></a>
                                        <a href="#"><i class="fa fa-rss fa-lg"></i></a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                </div>
            </div>
        </footer>
        <!-- footer close -->

    </div>

    <!-- Javascript Files
    ================================================== -->
    <script src="~/Content/Home/js/jquery.min.js"></script>
    <script src="~/Content/Home/js/bootstrap.min.js"></script>
    <script src="~/Content/Home/js/bootstrap.bundle.min.js"></script>
    <script src="~/Content/Home/js/wow.min.js"></script>
    <script src="~/Content/Home/js/jquery.isotope.min.js"></script>
    <script src="~/Content/Home/js/easing.js"></script>
    <script src="~/Content/Home/js/owl.carousel.js"></script>
    <script src="~/Content/Home/js/validation.js"></script>
    <script src="~/Content/Home/js/jquery.magnific-popup.min.js"></script>
    <script src="~/Content/Home/js/enquire.min.js"></script>
    <script src="~/Content/Home/js/jquery.plugin.js"></script>
    <script src="~/Content/Home/js/jquery.countTo.js"></script>
    <script src="~/Content/Home/js/jquery.countdown.js"></script>
    <script src="~/Content/Home/js/jquery.lazy.min.js"></script>
    <script src="~/Content/Home/js/jquery.lazy.plugins.min.js"></script>
    <script src="~/Content/Home/js/designesia.js"></script>


</body>

</html>